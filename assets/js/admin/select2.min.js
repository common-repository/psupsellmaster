!function(e,t,l){let r={selector:".psupsellmaster-select2"},s={onReady:function t(){e(document).trigger("psupsellmaster.select2.beforeOnReady"),a.buildAll({skipDeferred:!0}),e(document).trigger("psupsellmaster.select2.afterOnReady")}},a={init:function t(){e(document).trigger("psupsellmaster.select2.beforeInit"),a.setup(),e(document).trigger("psupsellmaster.select2.afterInit")},build:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeBuild",l),l.field.select2(a.getSettings(l)),e(document).trigger("psupsellmaster.select2.afterBuild",l)},buildAll:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeBuildAll",l);let s=l.container?l.container.find(r.selector):e(r.selector);s.each(function(){let t=e(this);(!l.skipDeferred||"true"!==t.attr("data-select2-defer"))&&a.build({...l,field:t})}),e(document).trigger("psupsellmaster.select2.afterBuildAll",l)},clear:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeClear",l),l.field.val("").trigger("change"),e(document).trigger("psupsellmaster.select2.afterClear",l)},clearAll:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeClearAll",l);let s=l.container?l.container.find(r.selector):e(r.selector);s.each(function(){let t=e(this);a.clear({...l,field:t})}),e(document).trigger("psupsellmaster.select2.afterClearAll",l)},destroy:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeDestroy",l),l.field.data("select2")&&l.field.select2("destroy"),e(document).trigger("psupsellmaster.select2.afterDestroy",l)},destroyAll:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeDestroyAll",l);let s=l.container?l.container.find(r.selector):e(r.selector);s.each(function(){let t=e(this);a.destroy({...l,field:t})}),e(document).trigger("psupsellmaster.select2.afterDestroyAll",l)},getSettings:function e(t={}){let l={width:"100%"},r=t.field.closest(t.field.attr("data-args.container"));if(r&&0!==r.length&&(l.dropdownParent=r),t.field.attr("data-ajax-action")){let s=t.field.attr("data-ajax-url");l.ajax={data:function e(l){let r={};return r.action=t.field.attr("data-ajax-action"),r.nonce=t.field.attr("data-ajax-nonce"),r.page=l.page||1,r.search=l.term,t.field.attr("data-group")&&(r.group=t.field.attr("data-group")),t.field.attr("data-taxonomy")&&(r.taxonomy=t.field.attr("data-taxonomy")),t.field.trigger("psupsellmaster.select2.query",r),r},dataType:"json",delay:250,processResults:function e(t,l){let r=[];t.success&&t.items&&t.items.forEach(function(e){r.push({id:e.value,text:e.label})});let s=t.meta.total_pages>(l.page||1);return{results:r,pagination:{more:s}}},url:s};let a=t.field.attr("data-ajax-input-min");a&&(l.minimumInputLength=a)}if("true"===t.field.attr("data-clear")&&(l.allowClear=!0),"true"===t.field.attr("data-custom")&&(l.tags=!0),"true"===t.field.attr("data-multiple")){l.multiple=!0;let i=t.field.attr("data-multiple-limit");i&&(l.maximumSelectionLength=i)}let n=t.field.attr("data-placeholder");return n&&(l.placeholder=n),t.field.trigger("psupsellmaster.select2.settings",l),l},refresh:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeRefresh",l),a.destroy(l),a.build(l),e(document).trigger("psupsellmaster.select2.afterRefresh",l)},refreshAll:function t(l={}){e(document).trigger("psupsellmaster.select2.beforeRefreshAll",l);let s=l.container?l.container.find(r.selector):e(r.selector);s.each(function(){let t=e(this);a.refresh({...l,field:t})}),e(document).trigger("psupsellmaster.select2.afterRefreshAll",l)},setup:function t(){e(document).trigger("psupsellmaster.select2.beforeSetup"),e(document).on("psupsellmaster.ready",s.onReady),e(document).trigger("psupsellmaster.select2.afterSetup")}};PsUpsellmaster.select2={attributes:r,events:s,functions:a},PsUpsellmaster.select2.functions.init()}(jQuery,window);